### 어떤 자바스크립트를 사용하고 있는지 알아야 한다.

--- 
  
대부분의 성공적인 다른 기술들처럼, 자바스크립트는 오랜 시간에 걸쳐 진화했다.자바스크립트는 원래 인터렉티브한 웹 페이지를 프로그래밍하기 위해 자바의 보충재로 자리잡으려 했으나, 지금은 자바를 밀어내고 웹에서 재배적인 프로그래밍 언어가 되었다.
  
 
스트릭트 모드는 프로그램의 맨 처음 부분에 다음과 같은 특별한 고정 문자열을 추가하면 활성화된다.

```javascript
"use strict"; 
```

```javascript
function f(x){
    "use strict";
    //...
}
```

스트릭트 모드로 작성한 코드를 ES5 환경에서 테스트하지 않는다면, 다음과 같이 제대로 실행되지 않는 코드를 작성할 가능성이 높다. 
  
```javascript
function f(x){
    "use strict";
    var arguments = []; // 오류 : arguments 를 재정의함.
    // ...
}
```

스트릭트 모드에서는 arguments 변수의 재정의를 허용하지 않는다. 하지만 스트릭트 모드 확인을 구현하지 않는 환경에서는 이 코드를 허용할 것이다. ( 이 코드를 상품화해 배포한다면 ES5를 구현한 환경에서는 프로그램이 오류를 낼 것이다.) 
  
---
  
> 스트릭트 모드를 사용할 때 조심해야 할 함정 중 하나는 "use strict" 명령어가 스크립트나 함수의 상단에 선언되었을 때만 인식되고, 이 때문에 스크립트 병합에 민감해진다는 점이다. 
  
 
<br><br><Br>  

  
### 하나의 파일만 스트릭트 모드로 동작하도록 작성한 예제. 
    
  
###### file1.js를 앞에 두고 병합 예제. 

```javascript
// file1.js
"use strict";
function f(){
    // ... 
}
```


```javascript
// ...
// file2.js
// 스트릭트 모드 명령어 없음. 
function f(){
    var arguments = []; // 오류 : arguments 재젖의
    // ...
}
```

🏷  병합된 파일은 모두 스트릭트 모두로 동작한다.  반대로 file2.js를 앞에 두고 병합하면 모두 동작하지 않는다. 
  
  
<br><br>
  
### 🪔 다양한 코드들과도 잘 병합될 수 있는 견코한 코드를 작성하고 싶을 때의 대안.   
  
#### 1.스트릭트 모드와 일반 모드의 파일을 절대 병합하지 마라." 
    
: 이 방법은 가장 쉽지만, 애플리케이션이나 라이브러리의 파일 구조를 관리하는데 막대한 노력이 필요해진다는 제한이 따른다. 최선의 방법은, 스트릭트 모드로 작성된 파일과 일반적인 파일, 즉 두개의 분리된 파일로 배포하는 것이다. 
  
<br> 
  
#### 2.즉시 실행되는 함수 표현식을 사용해 파일들의 본문을 감싸라. 
  
: 간단히 말해 각 파일의 내용을 함수로 감싸서 독립적으로 해석되게 하는 것이다. 
  
  
```javascript
(function() {

    // file1.js
     "use strict";
      function f(){
          //...
      }
      //...
})();



(function() {
    
     // file2.js
     // 스트릭트 모드 명령어 없음. 
     function f(){
        var arguments = [];
            //....
     }
     //...
})();
```

이런 방식은 모듈 시스템과도 비슷한데, 각 모듈의 내용을 자동으로 개별 함수에 위치시킴으로써 여러 파일과의 의존성을 관리한다.
  
  
<br><br>

#### 3. 어떤 모드에 있건 동일하게 동작하도록 코드를 작성하라. 

: 최대의 호환성을 가지도록 코드를 구성하는 가장 간단한 방법은 스트릭트 모드로 작성하되, 스트릭트 모드가 지역적으로 활성화될 수 있게 명시적으로 전체 코드 내용을 함수로 감싸는 것이다. 

  <br>
  
  이는 일전에 언급한 해결책 즉, 각 파일의 내용을 즉시 실행되는 함수 표현식으로 감싸는 방법과 유사하다. 
  
 ```javascript
 (function() {
    "use strict";
    function f(){
        //...
    }
    //...
 
 })();
 
```

<br> 
 
🏷  이 코드는 스트릭트 모드의 코드에 병합되든 일반 모드의 코드에 병합되든 스트릭트 모드로 처리된다는 것을 알 수 있다. 
